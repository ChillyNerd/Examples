# Пример организации UI с помощью Dash

## Цель проекта 

Организовать Dash приложение с возможностью разделить отдельные компоненты и Callback-и по файлам и возможностью настраивать сервер с помощью конфигурационного файла

## Системные требования

Python 3.10.3

Требуемые библиотеки описаны в `requirements.txt`

## Структура проекта

Сервер располагается в пакете app

В пакете app находятся:

* ApplicationServer в файле `app.py` - класс сервера, который хранит в себе обьект Dash, логгер, конфиг и общие для всех компонент методы требующие конфигурационные параметры
* AbstractApp в файле `abstract_app.py` - абстрактный класс сервера. Нужен для избегания цикличного импортирования при инициализации компонент, и для более явной типизации обьекта сервера передаваемого в конструктор каждого компонента.
* Пакет `components` хранит файлы с определением компонент
  * В __init__ пакета хранится класс Layout. В нем определяются все Store, Location объекты и сама верстка сервера
  * Каждый компонент обязан наследоваться от BaseComponent из base_component.py. В конструктор передается обьект сервера
  * Верстка компонета хранится в поле layout и вызывается через метод get_layout().
  * Callback-и определяются в методе init_callbacks компонента. Через self вызывается обьект Dash и затем уже определяется метод с декоратором Callback-а (по примеру @self.dash_app.callback(...сигнатура callback-а))
* Пакет assets хранит описание css классов, js функций и статичных файлов иконок для интерфейса

## Примечания

* Если Callback принадлежит двум компонентам (например если одна компонента является Input-ом, а вторая Output-ом), то Callback кладется компоненте Input-у. Во всех остальных случаях Callback принадлежит классу компоненты, если он появляется в одной из параметров Callback-а
* Класс Layout не является компонентой (не наследуется от BaseComponent)
* Сервер может работать через https протокол, если прописать путь до сертификатов в конфигурационных параметрах

## Пример конфигурационного файла `config.yaml`

Описание параметров:
* Параметр - Описание | Дефолтное значение
* app.host - Имя хоста или IP-адрес | Имя хоста
* app.port - Порт | 80
* log.level - Уровень логирования (Варианты DEBUG | INFO | WARNING | ERROR) | INFO
* log.name.app - Заголовок для сообщений сервера пользовательского интерфейса | ApplicationServer
* log.name.main - Заголовок для сообщений всего процесса приложения | Main
* ssl.certificate - Путь к сертификату для https протокола | certificates/certificate.crt
* ssl.private - Путь к приватному ключу для https протокола | certificates/privatekey.key

```
app:
  host: localhost
  port: 80
log:
  level: DEBUG
  name:
    app: ApplicationServer
    main: Main
ssl:
  certificate: certificates/certificate.crt
  private: certificates/privatekey.key
```